[toc]

![jså’Œtsçš„åŒºåˆ«](./img/tsVSjs.png)

# åŸºç¡€çŸ¥è¯†

> åŒ…æ‹¬boolean\number\string\array\enmu(æ•°å­—æšä¸¾ã€å­—ç¬¦ä¸²æšä¸¾ã€å¼‚æ„æšä¸¾)\any\ `unknow`\Tuple\void\null\undefined\never

# åŸºç¡€ç±»å‹

### æ•°ç»„

```ts
let a: number[];

// æ³›å‹è¯­æ³•
let b: Array<number>
```

#### unknow
å°±åƒæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™ anyï¼Œæ‰€æœ‰ç±»å‹ä¹Ÿéƒ½å¯ä»¥èµ‹å€¼ç»™ unknownã€‚è¿™ä½¿å¾— unknown æˆä¸º TypeScript ç±»å‹ç³»ç»Ÿçš„å¦ä¸€ç§`é¡¶çº§ç±»å‹`ï¼ˆå¦ä¸€ç§æ˜¯ anyï¼‰

æˆ‘ä»¬å¯ä»¥ç»™ `unknown` ç±»å‹çš„å˜é‡èµ‹å€¼ä»»ä½•ç±»å‹çš„å€¼ï¼› **ä½†æ˜¯æˆ‘ä»¬åªèƒ½æŠŠ `unknown` ç±»å‹çš„å˜é‡èµ‹å€¼ç»™ `any`ç±»å‹å’Œ `unknown` ç±»å‹æœ¬èº«**

è¿™æ˜¯æœ‰é“ç†çš„ï¼š**åªæœ‰èƒ½å¤Ÿä¿å­˜ä»»æ„ç±»å‹å€¼çš„å®¹å™¨æ‰èƒ½ä¿å­˜ unknown ç±»å‹çš„å€¼**ã€‚
```ts
let value: unknown;

let value1: unknown = value; // OK
let value2: any = value; // OK
let value3: boolean = value; // Error
let value4: number = value; // Error
let value5: string = value; // Error
let value6: object = value; // Error
let value7: any[] = value; // Error
let value8: Function = value; // Error

```
TypeScript å¯ä»¥ç»™any ç±»å‹çš„å€¼è¿›è¡Œä»»ä½•æ“ä½œï¼› ä½†æ˜¯unknown ç±»å‹ä¸è¡Œ
```ts
let value: any;

value.foo.bar; // OK
value.trim(); // OK
value(); // OK
new value(); // OK
value[0][1]; // OK



let value: unknown;

value.foo.bar; // Error
value.trim(); // Error
value(); // Error
new value(); // Error
value[0][1]; // Error

```

#### void æ²¡æœ‰ä»»ä½•ç±»å‹

æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoid ç±»å‹åƒæ˜¯ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚
å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š

å£°æ˜ä¸€ä¸ªvoidç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆ`undefined`å’Œ `null`;
é€šå¸¸ç”¨ç€å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ä½¿ç”¨
```ts
// å£°æ˜å‡½æ•°è¿”å›å€¼ä¸ºvoid
function warnUser(): void {
  console.log("This is my warning message");
}

```

#### nullã€undefined

- é»˜è®¤æƒ…å†µä¸‹nullå’Œundefinedæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹; å¯ä»¥èµ‹å€¼ç»™ä»»æ„ç±»å‹ï¼›
- å½“ä½ æŒ‡å®šäº†`--strictNullChecks` æ ‡è®°ï¼Œnullå’Œundefinedåªèƒ½èµ‹å€¼ç»™`void`å’Œå®ƒä»¬å„è‡ª

#### never

never ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚
ä¾‹å¦‚ï¼Œnever ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ã€‚

```ts
// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹
function error(message: string): never {
  throw new Error(message);
}

function infiniteLoop(): never {
  while (true) {}
}
```

**åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ never ç±»å‹çš„ç‰¹æ€§æ¥å®ç°å…¨é¢æ€§æ£€æŸ¥ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š**
```ts
type Foo = string | number;

function controlFlowAnalysisWithNever(foo: Foo) {
  if (typeof foo === "string") {
    // è¿™é‡Œ foo è¢«æ”¶çª„ä¸º string ç±»å‹
  } else if (typeof foo === "number") {
    // è¿™é‡Œ foo è¢«æ”¶çª„ä¸º number ç±»å‹
  } else {
    // foo åœ¨è¿™é‡Œæ˜¯ never
    const check: never = foo;
  }
}

```
é€šå¸¸ç”¨äºçº¦æŸå‡½æ•°çš„è¿”å›å€¼ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°æ°¸è¿œä¸å¯èƒ½ç»“æŸï¼›
è¡¨ç¤ºä¸€ä¸ªä¸åŒ…å«å€¼çš„ç±»å‹ï¼Œ å³è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼ã€‚

- æ‹¥æœ‰ void è¿”å›å€¼ç±»å‹çš„å‡½æ•°èƒ½æ­£å¸¸è¿è¡Œã€‚æ‹¥æœ‰ never è¿”å›å€¼ç±»å‹çš„å‡½æ•°æ— æ³•æ­£å¸¸è¿”å›ï¼Œæ— æ³•ç»ˆæ­¢ï¼Œæˆ–ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

### å…ƒç»„ Tuple

æ•°ç»„ä¸€èˆ¬ç”±åŒç§ç±»å‹çš„å€¼ç»„æˆï¼Œä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨å•ä¸ªå˜é‡ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å€¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å…ƒç»„

ä¸€ä¸ªå¸¦ä¸åŒå€¼çš„æ•°ç»„ tuple

- åœ¨å…ƒç»„åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»æä¾›æ¯ä¸ªå±æ€§çš„å€¼ï¼Œä¸ç„¶ä¹Ÿä¼šå‡ºç°é”™è¯¯ï¼Œ
```ts
let tupleType: [string, boolean] = ['hello']
```

**å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹ï¼š**
```ts
let arr: [string, number] = ['hahah', 99]
// ç›´æ¥ç»™å…ƒç»„èµ‹å€¼ï¼Œè¦å®Œå…¨æä¾›å…¶å®šä¹‰å¥½çš„ç±»å‹å’Œé•¿åº¦

// å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹ï¼š
arr.push(77);

arr.push(true); // error
```

### ç±»å‹æ–­è¨€
æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯” TypeScript æ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚

- ç±»å‹æ–­è¨€æœ‰ä¸¤ç§å½¢å¼ï¼š
**â€œå°–æ‹¬å·â€ è¯­æ³•**
```ts
let someValue: any = "this is a string";
let strLength: number = (<string>someValue).length;

```

**as è¯­æ³•**
```ts
let someValue: any = "this is a string";
let strLength: number = (someValue as string).length;
```



### ç±»å‹å®ˆå«
ç±»å‹ä¿æŠ¤æ˜¯å¯æ‰§è¡Œè¿è¡Œæ—¶æ£€æŸ¥çš„ä¸€ç§è¡¨è¾¾å¼ï¼Œç›®å‰ä¸»è¦æœ‰å››ç§çš„æ–¹å¼æ¥å®ç°ç±»å‹ä¿æŠ¤ï¼š

#### inå…³é”®å­—
```ts
interface Admin {
  name: string;
  privileges: string[];
}

interface Employee {
  name: string;
  startDate: Date;
}

type UnknownEmployee = Employee | Admin;

function printEmployeeInformation(emp: UnknownEmployee) {
  console.log("Name: " + emp.name);
  if ("privileges" in emp) {
    console.log("Privileges: " + emp.privileges);
  }
  if ("startDate" in emp) {
    console.log("Start Date: " + emp.startDate);
  }
}


```
#### typeof å…³é”®å­—
```ts
function padLeft(value: string, padding: string | number) {
  if (typeof padding === "number") {
      return Array(padding + 1).join(" ") + value;
  }
  if (typeof padding === "string") {
      return padding + value;
  }
  throw new Error(`Expected string or number, got '${padding}'.`);
}

```

#### instanceof å…³é”®å­—
```ts
interface Padder {
  getPaddingString(): string;
}

class SpaceRepeatingPadder implements Padder {
  constructor(private numSpaces: number) {}
  getPaddingString() {
    return Array(this.numSpaces + 1).join(" ");
  }
}

class StringPadder implements Padder {
  constructor(private value: string) {}
  getPaddingString() {
    return this.value;
  }
}

let padder: Padder = new SpaceRepeatingPadder(6);

if (padder instanceof SpaceRepeatingPadder) {
  // padderçš„ç±»å‹æ”¶çª„ä¸º 'SpaceRepeatingPadder'
}


```

#### è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯
```ts
function isNumber(x: any): x is number {
  return typeof x === "number";
}

function isString(x: any): x is string {
  return typeof x === "string";
}

```



# æ‰©å±•ç±»å‹

å…ˆè¯´ä¸‹å­—é¢é‡å½¢å¼

```ts
let a: 1; // å£°æ˜açš„å˜é‡ç±»å‹ä¸ºå­—é¢é‡ 1ï¼›è¿™æ—¶a èµ‹å€¼åªèƒ½æ˜¯1è€Œä¸èƒ½æ˜¯å…¶ä»–æ•°ï¼›
a = 1;



```

> æ‰©å±•ç±»å‹ï¼š è”åˆç±»å‹ã€ç±»å‹åˆ«åã€æšä¸¾ã€æ¥å£ã€ç±»

# è”åˆç±»å‹

è”åˆç±»å‹é€šå¸¸ä¸ null æˆ– undefined ä¸€èµ·ä½¿ç”¨

```ts
const sayHello = (name: string | undefined) => {
  /* ... */
};


let a: string | number;

a = 'hahha';

a = 123

```
### å¯è¾¨è¯†è”åˆ
ä¹Ÿç§°ä¸ºä»£æ•°æ•°æ®ç±»å‹æˆ–æ ‡ç­¾è”åˆç±»å‹ã€‚å®ƒåŒ…å« 3 ä¸ªè¦ç‚¹ï¼š**å¯è¾¨è¯†ã€è”åˆç±»å‹å’Œç±»å‹å®ˆå«**ã€‚

è¿™ç§ç±»å‹çš„æœ¬è´¨æ˜¯ç»“åˆè”åˆç±»å‹å’Œå­—é¢é‡ç±»å‹çš„ä¸€ç§ç±»å‹ä¿æŠ¤æ–¹æ³•ã€‚
å¦‚æœä¸€ä¸ªç±»å‹æ˜¯å¤šä¸ªç±»å‹çš„è”åˆç±»å‹ï¼Œä¸”å¤šä¸ªç±»å‹å«æœ‰ä¸€ä¸ªå…¬å…±å±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªå…¬å…±å±æ€§ï¼Œ**æ¥åˆ›å»ºä¸åŒçš„ç±»å‹ä¿æŠ¤åŒºå—ã€‚**
```ts


enum CarTransmission {
  Automatic = 200,
  Manual = 300
}

interface Motorcycle {
  vType: "motorcycle"; // discriminant
  make: number; // year
}

interface Car {
  vType: "car"; // discriminant
  transmission: CarTransmission
}

interface Truck {
  vType: "truck"; // discriminant
  capacity: number; // in tons
}
// Motorcycleã€ Car å’Œ Truck ä¸‰ä¸ªæ¥å£ï¼Œåœ¨è¿™äº›æ¥å£ä¸­éƒ½åŒ…å«ä¸€ä¸ª vType å±æ€§ï¼Œè¯¥å±æ€§è¢«ç§°ä¸ºå¯è¾¨è¯†çš„å±æ€§ï¼Œè€Œå…¶å®ƒçš„å±æ€§åªè·Ÿç‰¹æ€§çš„æ¥å£ç›¸å…³ã€‚


// åŸºäºå‰é¢å®šä¹‰äº†ä¸‰ä¸ªæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª Vehicle è”åˆç±»å‹ï¼š
type Vehicle = Motorcycle | Car | Truck;

const EVALUATION_FACTOR = Math.PI; 
function evaluatePrice(vehicle: Vehicle) {
  switch(vehicle.vType) {
    case "car":
      return vehicle.transmission * EVALUATION_FACTOR;
    case "truck":
      return vehicle.capacity * EVALUATION_FACTOR;
    case "motorcycle":
      return vehicle.make * EVALUATION_FACTOR;
  }
}

// åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ switch å’Œ case è¿ç®—ç¬¦æ¥å®ç°ç±»å‹å®ˆå«ï¼Œä»è€Œç¡®ä¿åœ¨ evaluatePrice æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°è®¿é—® vehicle å¯¹è±¡ä¸­çš„æ‰€åŒ…å«çš„å±æ€§ï¼Œæ¥æ­£ç¡®çš„è®¡ç®—è¯¥è½¦è¾†ç±»å‹æ‰€å¯¹åº”çš„ä»·æ ¼ã€‚
```

# ç±»å‹åˆ«å

ç±»å‹åˆ«åä¼šç»™`ä¸€ä¸ªç±»å‹`èµ·ä¸ªæ–°çš„åå­—ã€‚å…³é”®å­—ï¼š `type`ï¼›  æ¯ä¸ªç±»å‹æ˜¯`æˆ–`çš„å…³ç³»ï¼›
```ts
type Message = string | number;

interface A {
	name: string;
	age: number;
}

interface B {
	sex: string;
	run: string;
}

type AB = A | B; // ç±»å‹åˆ«ååªèƒ½æ˜¯ æ¥å£A æˆ– æ¥å£ B

let c: AB = {
	name: 'sdasd',
	sex: 'man'  // ä¸è¡Œä¼šæŠ¥é”™   æ¥å£Aå’ŒB æ²¡æœ‰åŒæ—¶åŒ…å« name å’Œ sex å±æ€§çš„å¯¹è±¡ï¼›
}

```

## äº¤å‰ç±»å‹ &

äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ï¼› è¿™è®©æˆ‘ä»¬å¯ä»¥æŠŠç°æœ‰çš„å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ï¼Œå®ƒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ã€‚

ä½¿ç”¨äº¤å‰ç±»å‹å¯ä»¥å®ç°ç±»ä¼¼çš„ç»„åˆæ•ˆæœï¼Œ éœ€è¦é€šè¿‡ ``` & ```ï¼Œ å«åšäº¤å‰ç±»å‹

```ts

interface IPerson {
	id: string,
	age: number
}

interface IWorker {
	companyId: string
}

type IStaff = IPerson & IWorker;

const staff: IStaff = {
	id: 'abc',
	age: 90,
	companyId: 'cba'
}

```

# æšä¸¾

æšä¸¾é€šå¸¸ç”¨äºçº¦æŸæŸä¸ªå˜é‡çš„å–å€¼èŒƒå›´ã€‚ æšä¸¾åˆ†ï¼š`æ•°å­—æšä¸¾`ã€`å­—ç¬¦ä¸²æšä¸¾`ã€`å¼‚æ„æšä¸¾`(å­—ç¬¦ä¸²å’Œæ•°å­—æšä¸¾çš„æ··åˆ)

å­—é¢é‡å’Œè”åˆç±»å‹é…åˆä½¿ç”¨ï¼Œ ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„ç›®æ ‡ï¼›

```ts
 let name: 'hzg';
 name = 'hzg'; // å­—é¢é‡ç±»å‹ï¼Œ åªèƒ½èµ‹å€¼ç»™å­—é¢é‡

 let a: '1' | '2' = '2'; // å­—é¢é‡ç±»å‹å’Œè”åˆç±»å‹
```

### å­—é¢é‡ç±»å‹çš„é—®é¢˜

- åœ¨ç±»å‹çº¦æŸä½ç½®ï¼Œ ä¼šäº§ç”Ÿé‡å¤ä»£ç ã€‚ å¯ä»¥ä½¿ç”¨ç±»å‹åˆ«åè§£å†³è¯¥é—®é¢˜ã€‚
- é€»è¾‘å«ä¹‰å’ŒçœŸå®çš„å€¼äº§ç”Ÿäº†æ··æ·†ï¼Œ ä¼šå¯¼è‡´å½“ä¿®æ”¹çœŸå®çš„å€¼çš„æ—¶å€™ï¼Œäº§ç”Ÿå¤§é‡çš„ä¿®æ”¹ã€‚
- å­—é¢é‡ç±»å‹ä¸ä¼šè¿›å…¥åˆ°ç¼–è¯‘ç»“æœï¼›

å¦‚ä½•å®šä¹‰ä¸€ä¸ªæšä¸¾

```ts
	enum æšä¸¾å {
		æšä¸¾å­—æ®µ1 = å€¼1,
		æšä¸¾å­—æ®µ2 = å€¼2
	}
```
``` ts
// å­—ç¬¦ä¸²æšä¸¾
	enum Gender {
		male = 'ç”·',
		female = 'å¥³'
	}

	let gender: Gender;
	gender = Gender.male;
```

**æšä¸¾ä¼šå‚ä¸ç¼–è¯‘ï¼Œ ä¼šå‡ºç°åœ¨ç¼–è¯‘ç»“æœä¸­å‡ºç°**ï¼›ç¼–è¯‘ç»“æœä¸­è¡¨ç°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼› å­—é¢é‡æ–¹å¼ä¸ä¼šå‡ºç°åœ¨ç¼–è¯‘ç»“æœä¸­ï¼›

æšä¸¾çš„è§„åˆ™ï¼š

- æšä¸¾çš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²å’Œæ•°å­—
- æ•°å­—æšä¸¾çš„å€¼ä¼šè‡ªåŠ¨è‡ªå¢ï¼›
- è¢«æ•°å­—æšä¸¾çº¦æŸçš„å˜é‡ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼ä¸ºæ•°å­—ï¼›
- æ•°å­—æšä¸¾çš„ç¼–è¯‘ç»“æœå’Œå­—ç¬¦ä¸²æšä¸¾æœ‰å·®å¼‚ï¼›

```ts
// æ•°å­—æšä¸¾
 enum Level {
	 level1 = 1,
	 level2,
	 level3
 }

 Level['level1'] === 1 // true

 Level[1] === 'level1' // true
```


```ts
enum Level {
	 level1 = 1,
	 level2,
	 level3
 }

// æ•°å­—æšä¸¾çš„ç¼–è¯‘ç»“æœ å’Œ å­—ç¬¦ä¸²ç¼–è¯‘ç»“æœçš„å·®å¼‚
//  æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ˜¯ä½ å¯ä»¥ç”±æšä¸¾çš„å€¼å¾—åˆ°å®ƒçš„åå­—  Level[2] === 'level2'  æ•°å­—æšä¸¾çš„å€¼ä¼šç›¸äº’æ˜ å°„

{
	level1: 1,
	level2: 2,
	level3: 3,
	'1': 'level1',
	'2': 'level2',
	'3': 'level3'
}

// å­—ç¬¦ä¸²æšä¸¾ç¼–è¯‘ç»“æœ
enum Level2 {
	a = '1',
	b = '2'
}

{
	a: '1',
	b: '2'
}

```

### å¸¸é‡æšä¸¾ä¸æ™®é€šæšä¸¾çš„åŒºåˆ«

- å¸¸é‡æšä¸¾ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¢«åˆ é™¤
- å¸¸é‡æšä¸¾ä¸èƒ½åŒ…å«è®¡ç®—æˆå‘˜ï¼Œå¦‚æœåŒ…å«äº†è®¡ç®—æˆå‘˜ï¼Œåˆ™ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæŠ¥é”™

```ts
const enum Colors { // å¤šä¸ªconst å°±æ˜¯å¸¸é‡æšä¸¾
	Red,
	Yellow,
	Blue
}
// å¸¸é‡æšä¸¾ä¸ä¼šå‡ºç°åœ¨ç¼–è¯‘ç»“æœä¸­

let myColors = [Colors.Red, Colors.Yellow, Colors.Blue];
// ä½¿ç”¨å¸¸é‡æšä¸¾ç¼–è¯‘çš„ç»“æœ
let myColors = [0 /* Red */, 1 /* Yellow */, 2 /* Blue */];

```
- å¸¸é‡æšä¸¾ä¸èƒ½åŒ…å«è®¡ç®—æˆå‘˜ï¼Œå¦‚æœåŒ…å«äº†è®¡ç®—æˆå‘˜ï¼Œåˆ™ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæŠ¥é”™
```ts
// æŠ¥é”™
const enum Color {Red, Yellow, Blue = "blue".length};
console.log(Colors.Red);


```

**æœ€ä½³å®è·µ**

- å°½é‡ä¸è¦åœ¨ä¸€ä¸ªæšä¸¾ä¸­å³å‡ºç°`å­—ç¬¦ä¸²å­—æ®µ`åˆå‡ºç°`æ•°å­—å­—æ®µ`ï¼›å³ä¸è¦ä½¿ç”¨å¼‚æ„æšä¸¾ï¼›
- ä½¿ç”¨æšä¸¾æ—¶ï¼Œå°½é‡ä½¿ç”¨æšä¸¾å­—æ®µçš„åç§°ï¼Œ è€Œä¸æ˜¯ä½¿ç”¨çœŸå®çš„å€¼ï¼›
- ç›¸æ¯”ä½¿ç”¨å­—é¢é‡å¯¹è±¡ç»´æŠ¤å¸¸é‡ï¼Œconst enum å¯ä»¥æä¾›æ›´å®‰å…¨çš„ç±»å‹æ£€æŸ¥

```ts
// ä½¿ç”¨ const enum ç»´æŠ¤å¸¸é‡
const enum TODO_STATUS {
  TODO = 'TODO',
  DONE = 'DONE',
  DOING = 'DOING'
}

function todos (status: TODO_STATUS): Todo[];

todos(TODO_STATUS.TODO)


```

### æ‰©å±•çš„çŸ¥è¯†ï¼š ä½æšä¸¾ï¼ˆæšä¸¾çš„ä½è¿ç®—ï¼‰

åªé’ˆå¯¹æ•°å­—æšä¸¾

ä½è¿ç®—ï¼š ä¸¤ä¸ªæ•°å­—æ¢ç®—æˆäºŒè¿›åˆ¶åè¿›è¡Œçš„è¿ç®—ï¼›

```ts
// ä½æšä¸¾  ä¸¤ä¸ªæ•°å­—æ¢ç®—æˆäºŒè¿›åˆ¶åè¿›è¡Œçš„è¿ç®—ï¼›
enum Permission {
	Read = 1, // 2^0  äºŒè¿›åˆ¶ 0001  æ ¹æ®æ¯ä¸ªä½ç½®ä¸Šçš„æ ‡è¯†æ¥åˆ¤æ–­æ˜¯å¦æœ‰å¯¹åº”çš„æƒé™ï¼› 1ä»£è¡¨æœ‰æƒé™ï¼›
	Write = 2, // 2^1	0010
	Create = 4, // 2^2	0100
	Delete = 8 // 2^3	1000
}

// 1: å¦‚ä½•ç»„åˆæƒé™
// ä½¿ç”¨æˆ–è¿ç®— 
// 0001
// | æˆ–è¿ç®—  ä¸€ä¸ªä¸ºçœŸå°±ä¸ºçœŸï¼Œå…¨å‡ä¸ºå‡
// 0010
// ----
// 0011
let p: Permission = Permission.Read | Permission.Write;
p = p | Permission.Delete; // 1011

// 2: å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ‹¥æœ‰æŸä¸ªæƒé™ï¼›
/**
 * 
 * @param targe éœ€è¦åˆ¤æ–­çš„ç›®æ ‡
 * @param per å¯¹åº”çš„çœŸå®æƒé™
 */
// 0011
// & ä¸”è¿ç®— å…¨çœŸä¸ºçœŸï¼Œ å¦è€…ä¸ºå‡
// 0001
// ----
// 0001
function hasPermission(target:Permission, per:Permission) {
	return (target & per) === per; 
}

// åˆ¤æ–­å˜é‡pæ˜¯å¦æ‹¥æœ‰å¯è¯»æƒé™
console.log(hasPermission(p, Permission.Create));

// 3:å¦‚ä½•åˆ é™¤æŸä¸ªæƒé™  (åˆ é™¤å†™æƒé™)
// 0011
// å¼‚æˆ–   ç›¸åŒå–0ï¼Œä¸åŒå–1
// 0010
// ----
// 0001

p = p ^ Permission.Write;

```

# æ¨¡å—åŒ–

> å‰ç«¯æ¨¡å—åŒ–çš„æ ‡å‡†ï¼š ES6ã€commonjsã€amdã€umdã€systemã€esnext

### TSä¸­å¦‚ä½•ä¹¦å†™æ¨¡å—åŒ–è¯­å¥

> TS ä¸­å¯¼å…¥å’Œå¯¼å‡ºæ¨¡å—ï¼Œ `ç»Ÿä¸€ä½¿ç”¨ES6çš„æ¨¡å—åŒ–` é¿å…å‡ºé”™; 
 
æ™®é€šå¯¼å‡º å¯ä»¥æ™ºèƒ½æç¤ºï¼Œ å¿«é€Ÿä¿®å¤ï¼› é»˜è®¤å¯¼å‡ºï¼ˆ `export default`)ï¼Œ ä¸èƒ½æ™ºèƒ½æç¤ºï¼› å› ä¸ºå¯ä»¥ä¿®æ”¹å¯¼å‡ºçš„åå­—ï¼›

ä¸è¦åŠ åç¼€åï¼›ç¼–è¯‘ç»“æœä¸­æ²¡æœ‰`.ts`æ–‡ä»¶

### ç¼–è¯‘ç»“æœä¸­çš„æ¨¡å—åŒ–

dist æ–‡ä»¶å¤¹   ç¼–è¯‘å‘½ä»¤ tsc; `tsc --watch`ã€`ts -w` ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œæ–‡ä»¶å˜åŒ–åä¼šé‡æ–°ç¼–è¯‘ï¼›

å»æ‰ç¼–è¯‘ç»“æœä¸­çš„æ³¨é‡Š tsconfig.jsonä¸­ åŠ `"removeComments: true"`

|		é…ç½®åç§°		 |		å«ä¹‰		|		æ¨èå€¼		|
| :-------------------: | :---------------:| :-------------: |
| module				| è®¾ç½®ç¼–è¯‘ç»“æœä¸­ä½¿ç”¨çš„æ¨¡å—åŒ–æ ‡å‡† | esnext  |
| moduleResolution		| è®¾ç½®è§£ææ¨¡å—çš„æ¨¡å¼ |		node 		|
| noImplicitUseStrict	| ç¼–è¯‘ç»“æœä¸­ä¸åŒ…æ‹¬"use strict" |  true  |
| removeComments 		| ç¼–è¯‘ç»“æœä¸­ç§»é™¤æ³¨é‡Š |		toUpperCase  |
| noEmitOnError			| é”™è¯¯æ—¶ä¸ç”Ÿæˆç¼–è¯‘ç»“æœ |	true 		|
| esModuleInterop 		| å¯ç”¨esæ¨¡å—åŒ–äº¤äº’éesæ¨¡å—å¯¼å‡º | true 	|

TSä¸­çš„æ¨¡å—åŒ–åœ¨ç¼–è¯‘ç»“æœä¸­ï¼š
- å¦‚æœç¼–è¯‘ç»“æœçš„æ¨¡å—åŒ–æ ‡å‡†æ˜¯ES6: æ²¡æœ‰åŒºåˆ«ï¼›
- å¦‚æœç¼–è¯‘ç»“æœçš„æ¨¡å—åŒ–æ ‡å‡†æ˜¯commonJsï¼š å¯¼å‡ºçš„å£°æ˜ä¼šå˜æˆexportsçš„å±æ€§ã€‚ é»˜è®¤çš„å¯¼å‡ºä¼šå˜æˆexportsçš„defaultå±æ€§ï¼›å¯¼å…¥æ—¶ä¼šæŠŠå¯¹è±¡æ‹¿åˆ°ï¼› é€šè¿‡å¯¹è±¡å±æ€§çš„æ–¹å¼æ‰§è¡Œï¼›

### è§£å†³é»˜è®¤å¯¼å…¥çš„é”™è¯¯

```ts

import fs from 'fs';// ä¼šæŠ¥é”™ï¼› å› ä¸ºfsæ¨¡å—é‡‡ç”¨çš„æ˜¯ module.exports = {}; æ–¹å¼å¯¼å‡ºçš„ï¼› ä¸æ˜¯é‡‡ç”¨es6é»˜è®¤å¯¼å‡ºæ–¹å¼ï¼›

// è§£å†³æ–¹å¼

import * as fs from 'fs';
import { readFileSync } from 'fs';

// ä¸Šé¢ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³é»˜è®¤å¯¼å…¥çš„é”™è¯¯ï¼›

// æˆ–è€…ç¼–è¯‘é€‰é¡¹ä¸­å¢åŠ é…ç½®ï¼› ç›´æ¥å¯¼å…¥å°±ä¸ä¼šå‡ºé”™
// esmoduleInterop : true 

```


# å¦‚ä½•åœ¨TSä¸­ä¹¦å†™commonjsæ¨¡å—åŒ–ä»£ç 

ä¸å¤ªå»ºè®®ï¼›å»ºè®®ä½¿ç”¨es6æ¨¡å—åŒ–   

```js
// è€å¼æ–¹å¼ æ²¡æœ‰ç±»å‹æ¨å¯¼  module.exports = xxx;  const xxx = require('xxx');
// å¯¼å‡º  export = XXX
export = {

}

// å¯¼å…¥ import xxx = require('xxx')

import myModule = require('./myModule')
```


# æ¨¡å—è§£æ

æ¨¡å—è§£æï¼š åº”è¯¥ä»ä»€ä¹ˆä½ç½®å¯»æ‰¾æ¨¡å—
TSä¸­ï¼Œ æœ‰ä¸¤ç§æ¨¡å—è§£æç­–ç•¥

- classic: ç»å…¸
- node: nodeè§£æç­–ç•¥ï¼ˆå”¯ä¸€å˜åŒ–ï¼Œ å°†jsæ›¿æ¢ä¸ºts);

> å¢åŠ æ¨¡å—è§£æç­–ç•¥é…ç½®ï¼š `moduleResolution: 'node'` å¼ºè¡Œè®¾ç½®ä¸ºnodeè§£æç­–ç•¥


# æ¥å£å’Œç±»å‹å…¼å®¹æ€§

æ¥å£ï¼š `interface` å’Œç±»å‹åˆ«å `type` æœ€å¤§åŒºåˆ«åœ¨äºçº¦æŸç±»ä¸Šé¢

# æ‰©å±•ç±»å‹ - æ¥å£
è‡ªå·±å®šä¹‰çš„ç±»å‹    ç±»å‹åˆ«åã€æšä¸¾ã€æ¥å£ã€ç±»

> TypeScriptçš„æ¥å£ï¼š ç”¨äºçº¦æŸç±»ã€å¯¹è±¡ã€å‡½æ•°çš„å¥‘çº¦ï¼ˆæ ‡å‡†ï¼‰

å¥‘çº¦ï¼ˆæ ‡å‡†ï¼‰çš„å½¢å¼
- æ–‡æ¡£ï¼šå¦‚Apiæ–‡æ¡£ï¼Œ å¼±æ ‡å‡†
- ä»£ç çº¦æŸï¼Œå¼ºæ ‡å‡†

> æ¥å£å’Œç±»å‹åˆ«åä¸€æ ·ï¼Œ ä¸ä¼šå‡ºç°åœ¨ç¼–è¯‘ç»“æœä¸­çš„ï¼›

1. æ¥å£çº¦æŸå¯¹è±¡

```ts
// æ¥å£æ¥çº¦æŸå¯¹è±¡
interface User {
	name: string,
	age: number
}

let u:User = {
	name: 'hzg',
	age: 18
}

// ç±»å‹åˆ«åçº¦æŸå¯¹è±¡
 type User = {
	name: string,
	age: number
 }

let uu: User;

// ä»ä¸Šé¢çœ‹ç±»å‹åˆ«åå’Œæ¥å£æ¥çº¦æŸå¯¹è±¡æ²¡å•¥åŒºåˆ«

```

**æ¥å£å¯ä»¥ç»§æ‰¿** 

å¯ä»¥é€šè¿‡æ¥å£ä¹‹é—´çš„ç»§æ‰¿ï¼Œ å®ç°å¤šç§æ¥å£çš„ç»“åˆ

ä¸**äº¤å‰ç±»å‹**çš„åŒºåˆ«æ˜¯ äº¤å‰ç±»å‹reæ˜¯ç±»å‹ä¹‹é—´çš„ç»„åˆï¼Œè€Œæ¥å£ä¹‹é—´çš„ç»§æ‰¿æ˜¯ç±»å‹ä¹‹é—´çš„ç»„åˆå¤–è¿˜å¯ä»¥æ‰©å±•ç±»å‹ï¼›

```ts
interface Shape {
    color: string;
}

interface PenStroke {
    penWidth: number;
}

interface Square extends Shape, PenStroke {
    sideLength: number;
}

let demo: Square = {
	color: 'red',
	penWidth: 90,
	sideLength: 89
}
```

> æ¥å£å’Œç±»å‹åˆ«åçš„æœ€å¤§åŒºåˆ«ï¼š æ¥å£å¯ä»¥è¢«ç±»å®ç° `implements`ï¼Œ è€Œç±»å‹åˆ«åä¸å¯ä»¥ï¼› **TypeScriptç”¨å®ƒæ¥æ˜ç¡®çš„å¼ºåˆ¶ä¸€ä¸ªç±»å»ç¬¦åˆæŸç§å¥‘çº¦**

```ts
interface Basic {
	name: string;
	age: number;
}


class Person implements Basic {
	name: string;
	age: number;
	constructor(name: string, age: age){
		this.name = name;
		this.age = age;
	}
}


```
å®ƒä»¬çš„åŒºåˆ«ï¼š
- å­æ¥å£ä¸èƒ½è¦†ç›–çˆ¶æ¥å£çš„æˆå‘˜ï¼›
- äº¤å‰ç±»å‹ä¼šæŠŠç›¸åŒæˆå‘˜è¿›è¡Œäº¤å‰ï¼›

**readonly**

åªè¯»ä¿®é¥°ç¬¦ï¼šä¸èƒ½é‡æ–°èµ‹å€¼ï¼› ä¸åœ¨ç¼–è¯‘ç»“æœä¸­ï¼›ï¼ˆä¸å‚ä¸ç¼–è¯‘ï¼‰

```ts
interface User{
	readonly id: number,
	user: string, 
}

let u = {
	id: 2323,
	user: 'hzg'
}

let arr: readonly numbe[] = [1,2,3,4,5]; // è¿™æ ·çš„æ•°ç»„æ‰€æœ‰çš„æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•éƒ½ä¸å¯ç”¨äº†ï¼Œ å¦‚pushã€pop

const arr1 = readonlyArray<number> = [1,2,3,4,5];

type Us = {
	readonly id: number,
	readonly name: readonly number[] // name æ•°ç»„ä¸èƒ½æ”¹å˜ï¼Œ é‡Œé¢çš„å€¼ åˆæ¬¡èµ‹å€¼åä¹Ÿä¸èƒ½é‡æ–°èµ‹å€¼ï¼›
}


```
# TypeScript ç±»

åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Class å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼š
```ts
	class Greeter {
		// é™æ€å±æ€§
		static cname: string = 'Greeter';
		// æˆå‘˜å±æ€§  å®ä¾‹å±æ€§
		greeting: string;
		// æ„é€ å‡½æ•° - æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ
		constructor(message: string) {
			this.greeting = message;
		}
		// é™æ€æ–¹æ³•
		static getClassName() {
			return 'class name is Greeter';
		}
		// æˆå‘˜æ–¹æ³•   å®ä¾‹å±æ€§
		greet() {
			return 'heelo', this.greeting;
		}
	}


	let greeter = new Greeter("world");

```

### æ¥å£ç»§æ‰¿ç±»

- å½“æ¥å£ç»§æ‰¿äº†ä¸€ä¸ªç±»ç±»å‹æ—¶ï¼Œå®ƒä¼š`ç»§æ‰¿ç±»çš„æˆå‘˜`ä½†ä¸åŒ…æ‹¬å…¶å®ç°ã€‚ å°±å¥½åƒæ¥å£å£°æ˜äº†æ‰€æœ‰ç±»ä¸­å­˜åœ¨çš„æˆå‘˜ï¼Œä½†å¹¶æ²¡æœ‰æä¾›å…·ä½“å®ç°ä¸€æ ·ã€‚ **æ¥å£åŒæ ·ä¼šç»§æ‰¿åˆ°ç±»çš„privateå’Œprotectedæˆå‘˜ã€‚** è¿™æ„å‘³ç€å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªæ¥å£ç»§æ‰¿äº†ä¸€ä¸ªæ‹¥æœ‰ç§æœ‰æˆ–å—ä¿æŠ¤çš„æˆå‘˜çš„ç±»æ—¶ï¼Œè¿™ä¸ªæ¥å£ç±»å‹**åªèƒ½è¢«è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ‰€å®ç°ï¼ˆimplementï¼‰**ã€‚
```ts

class A {
	a1: string = '';

}
class B {
	b1: number = 1
}

interface C extends A, B {}

class D implements C {
	a1: string;
	b1: number;
}


// ç±»çš„ç§æœ‰å±æ€§è¢«æ¥å£ç»§æ‰¿
class A {
	private a1: string = '';

}
class B {
	b1: number = 1
}

// è¿™ä¸ªæ¥å£åªèƒ½è¢«ç»§æ‰¿çš„Aç±»çš„å­ç±»å®ç°ï¼ˆimplements)
interface C extends A, B {}

class D extends A implements C {
	b1: number;
}


```

# ç´¢å¼•å™¨(ç´¢å¼•ç­¾å)

`å¯¹è±¡[å€¼]` ä½¿ç”¨æˆå‘˜è¡¨è¾¾å¼

åœ¨Tsä¸­ï¼Œ é»˜è®¤æƒ…å†µä¸‹å¯¹ç´¢å¼•å™¨ï¼ˆæˆå‘˜è¡¨è¾¾å¼ï¼‰ä¸åšä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼›

```ts
	u['xxx'] // []æ˜¯è¿è¡Œåæ‰å¾—åˆ°çš„è¡¨è¾¾å¼ï¼Œ æ‰€ä»¥ä¸åšç±»å‹æ£€æŸ¥
```
ä½¿ç”¨é…ç½®`noImplicitAny`å¼€å¯`éšå¼any`æ£€æŸ¥ã€‚ å¼ºçº¦æŸ

éšå¼anyï¼š TSæ ¹æ®å®é™…æƒ…å†µæ¨å¯¼å‡ºçš„anyæƒ…å†µ  

```ts
// n ä¼šè¢«æ¨å¯¼å‡ºæ˜¯anyç±»å‹
 function t(n){}


 class {
	 [prop: string]: any;

	 constructor (
		 public name: string,
		 public age: string
	 )
 }
```

åœ¨ç´¢å¼•å™¨ä¸­ï¼Œ é”®çš„ç±»å‹å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—


åœ¨ç±»ä¸­ï¼Œ ç´¢å¼•å™¨ä¹¦å†™çš„ä½ç½®åº”è¯¥æ˜¯åœ¨æ‰€æœ‰æˆå‘˜ä¹‹å‰

TSä¸­ç´¢å¼•å™¨çš„ä½œç”¨

- åœ¨ä¸¥æ ¼çš„æ£€æŸ¥ä¸‹ï¼Œ å¯ä»¥å®ç°ä¸ºç±»åŠ¨æ€å¢åŠ æˆå‘˜
- å¯ä»¥å®ç°åŠ¨æ€çš„æ“ä½œç±»æˆå‘˜

åœ¨`JS`ä¸­ï¼Œ æ‰€æœ‰çš„æˆå‘˜åæœ¬è´¨ä¸Šï¼Œ éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œ å¦‚æœä½¿ç”¨æ•°å­—ä½œä¸ºæˆå‘˜åï¼Œ ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²

åœ¨TSä¸­ï¼Œ å¦‚æœæŸä¸ªç±»ä¸­ä½¿ç”¨äº†ä¸¤ç§ç±»å‹çš„ç´¢å¼•å™¨ï¼Œ è¦æ±‚ä¸¤ç§ç´¢å¼•å™¨çš„å€¼ç±»å‹å¿…é¡»åŒ¹é…

**æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹ã€‚** è¿™æ˜¯å› ä¸ºå½“ä½¿ç”¨ numberæ¥ç´¢å¼•æ—¶ï¼ŒJavaScriptä¼šå°†å®ƒè½¬æ¢æˆstringç„¶åå†å»ç´¢å¼•å¯¹è±¡ã€‚ ä¹Ÿå°±æ˜¯è¯´ç”¨ 100ï¼ˆä¸€ä¸ªnumberï¼‰å»ç´¢å¼•ç­‰åŒäºä½¿ç”¨"100"ï¼ˆä¸€ä¸ªstringï¼‰å»ç´¢å¼•ï¼Œå› æ­¤ä¸¤è€…éœ€è¦ä¿æŒä¸€è‡´ã€‚
```ts
const arr3: number[] = [];
arr3[0] = 1;
arr3['0'] = 5; // noImplicitAny: true æ—¶ä¼šæŠ¥é”™ï¼Œ éšå¼çš„anyç±»å‹

console.log(arr3[0]);

// åœ¨JSä¸­ï¼Œ æ‰€æœ‰çš„æˆå‘˜åæœ¬è´¨ä¸Šï¼Œ éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œ å¦‚æœä½¿ç”¨æ•°å­—ä½œä¸ºæˆå‘˜åï¼Œ ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²

class A {
	[prop: number]: string
}

const a = new A();

a[1] = 9; // ä¼šæŠ¥é”™ å› ä¸ºæˆå‘˜åä¼šè¢«è½¬æ¢ä¸ºstringç±»å‹ï¼› å’Œç´¢å¼•å™¨numberç±»å‹å†²çª
```


# ç±»å‹å…¼å®¹æ€§

B -> A , å¦‚æœèƒ½å®Œæˆèµ‹å€¼ï¼Œ åˆ™Bå’ŒAç±»å‹å…¼å®¹ï¼›

é¸­å­è¾¨å‹æ³•(å­ç»“æ„è¾¨å‹æ³•)ï¼› æ»¡è¶³ç‰¹å¾å°±è¡Œï¼›å¦‚ï¼šæ˜¯å¦æ˜¯ğŸ¦†ï¼Œ 1ã€ä¼šå˜å˜å« 2ã€ä¼šæ¸¸æ³³
æ˜¯ä¸æ˜¯ä¸€åªé¸­å­ï¼Œ æ‹¥æœ‰é¸­å­çš„ç‰¹å¾å°±è¡Œ

ç›®æ ‡ç±»å‹éœ€è¦æŸä¸€äº›ç‰¹å¾ï¼Œ èµ‹å€¼çš„ç±»å‹åªè¦èƒ½æ»¡è¶³è¯¥ç‰¹å¾å³å¯

- åŸºæœ¬ç±»å‹ï¼š å®Œå…¨åŒ¹é…

- å¯¹è±¡ç±»å‹ï¼š é¸­å­è¾¨å‹æ³•ï¼ˆæ»¡è¶³ç‰¹å¾å°±è¡Œï¼‰

```ts

interface Duck {
	sound: 'å˜å˜å˜'
	swin(): void
}


let person = {
	name: 'ä¼ªè£…æˆé¸­å­çš„äºº',
	age: 11,
	sound: 'å˜å˜å˜' as 'å˜å˜å˜',
	swin() {
		console.log('gagga')
	}

}
// å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œ çº¦æŸä¸ºä¸€ä¸ªé¸­å­ä½†æ˜¯å¯ä»¥æŠŠäººèµ‹å€¼ç»™ä»–ï¼› 
let duck: Duck = person;


```
> å½“æˆ‘ä»¬æ¯”è¾ƒä¸¤ç§ä¸åŒçš„ç±»å‹æ—¶ï¼Œå¹¶ä¸åœ¨ä¹å®ƒä»¬ä»ä½•å¤„è€Œæ¥ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜çš„ç±»å‹éƒ½æ˜¯å…¼å®¹çš„ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬çš„ç±»å‹æ˜¯å…¼å®¹çš„ã€‚

ç„¶è€Œï¼Œå½“æˆ‘ä»¬æ¯”è¾ƒå¸¦æœ‰ privateæˆ– protectedæˆå‘˜çš„ç±»å‹çš„æ—¶å€™ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚ **å¦‚æœå…¶ä¸­ä¸€ä¸ªç±»å‹é‡ŒåŒ…å«ä¸€ä¸ª privateæˆå‘˜ï¼Œé‚£ä¹ˆåªæœ‰å½“å¦å¤–ä¸€ä¸ªç±»å‹ä¸­ä¹Ÿå­˜åœ¨è¿™æ ·ä¸€ä¸ª privateæˆå‘˜ï¼Œ ` å¹¶ä¸”å®ƒä»¬éƒ½æ˜¯æ¥è‡ªåŒä¸€å¤„å£°æ˜æ—¶ `ï¼Œæˆ‘ä»¬æ‰è®¤ä¸ºè¿™ä¸¤ä¸ªç±»å‹æ˜¯å…¼å®¹çš„ã€‚** å¯¹äº protectedæˆå‘˜ä¹Ÿä½¿ç”¨è¿™ä¸ªè§„åˆ™ã€‚

```ts

class Animal {
    private name: string;
    constructor(theName: string) { this.name = theName; }
}

class Rhino extends Animal {
    constructor() { super("Rhino"); }
}

class Employee {
    private name: string;
    constructor(theName: string) { this.name = theName; }
}

let animal = new Animal("Goat");
let rhino = new Rhino();
let employee = new Employee("Bob");

animal = rhino;
animal = employee; // é”™è¯¯: Animal ä¸ Employee ä¸å…¼å®¹. å°½ç®¡ Employeeé‡Œä¹Ÿæœ‰ä¸€ä¸ªç§æœ‰æˆå‘˜ nameï¼Œä½†å®ƒæ˜æ˜¾ä¸æ˜¯ Animalé‡Œé¢å®šä¹‰çš„é‚£ä¸ªã€‚


```


å¯¹è±¡ï¼šå½“ç›´æ¥ä½¿ç”¨**å¯¹è±¡å­—é¢é‡èµ‹å€¼æ—¶**ï¼Œ å°†é‡‡ç”¨`æ›´åŠ ä¸¥æ ¼çš„`åˆ¤æ–­

- å‡½æ•°ç±»å‹

ä¸€åˆ‡æ— æ¯”çš„è‡ªç„¶ï¼š 
**å‡½æ•°å‚æ•°**: ä¼ é€’ç»™ç›®æ ‡å‡½æ•°çš„å‚æ•°å¯ä»¥å°‘(å€¼å¯é€‰æ—¶ï¼‰ï¼Œ ä½†ä¸å¯ä»¥å¤š
**è¿”å›å€¼**ï¼šè¦æ±‚è¿”å›å¿…é¡»è¿”å›ï¼Œ ä¸”ç±»å‹ç›¸åŒï¼› ä¸è¦æ±‚è¿”å›ï¼Œä½ éšæ„

- å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹
```ts

	function createUserId(name: string, id: number): string {
		return name + id;
	}
```

- å‡½æ•°ç±»å‹
```ts
	// å®šä¹‰ä¸€ä¸ªå˜é‡IdGenerator; ç±»å‹ä¸ºä¸€ä¸ªå‡½æ•°
	let IdGenerator: (chars: string, nums: number) => string;

	function createUserId(name: string, id: number): string {
	return name + id;
	}

	IdGenerator = createUserId; // å¯¹å˜é‡èµ‹å€¼
```
- å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°
å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å‚æ•°çš„æœ€åé¢
```ts
// å¯é€‰å‚æ•°
function createUserId(name: string, age: number, id?: number): string {
  return name + age;
}

// é»˜è®¤å‚æ•°
function createUserId(
  name: string = "Semlinker",
  id: number,
  age?: number,
): string {
  return name + id;
}

```

# å‡½æ•°é‡è½½  ???

å‡½æ•°é‡è½½æˆ–æ–¹æ³•é‡è½½æ˜¯ä½¿ç”¨ç›¸åŒåç§°å’Œä¸åŒå‚æ•°æ•°é‡æˆ–ç±»å‹åˆ›å»ºå¤šä¸ªæ–¹æ³•çš„ä¸€ç§èƒ½åŠ›ã€‚
**å‚æ•°ä¸åŒ**ï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒæˆ–å‚æ•°ä¸ªæ•°ç›¸åŒæ—¶å‚æ•°çš„å…ˆåé¡ºåºä¸åŒï¼‰ï¼Œè°ƒç”¨æ—¶æ ¹æ®å®å‚çš„å½¢å¼ï¼Œé€‰æ‹©ä¸å®ƒåŒ¹é…çš„æ–¹æ³•æ‰§è¡Œæ“ä½œçš„ä¸€ç§æŠ€æœ¯ã€‚

åœ¨å®šä¹‰é‡è½½çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠæœ€ç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨æœ€å‰é¢
```ts
function add(a: number, b: number): number;
function add(a: string, b: string): string;
function add(a: string, b: number): string;
function add(a: number, b: string): string;
function add(a: Combinable, b: Combinable) {
  if (typeof a === "string" || typeof b === "string") {
    return a.toString() + b.toString();
  }
  return a + b;
}

```

# TSä¸­çš„ç±»

é¢å‘å¯¹è±¡æ€æƒ³ å¾ˆéš¾ç†è§£   å°æœ‰æˆå°±ä¸‰å¹´

åŸºç¡€éƒ¨åˆ†ï¼Œ å­¦ä¹ ç±»çš„æ—¶å€™ï¼Œ ä»…è®¨è®ºæ–°å¢çš„è¯­æ³•éƒ¨åˆ†ã€‚

- ç±»çš„ç»§æ‰¿ï¼š çˆ¶ç±»åˆå«åšåŸºç±»ã€è¶…ç±»ï¼Œ å­ç±»åˆå«åšæ´¾ç”Ÿç±»

**å±æ€§**

ä½¿ç”¨å±æ€§åˆ—è¡¨æ¥æè¿°ç±»ä¸­å±æ€§
```ts
class User {
	// ç”¨å±æ€§åˆ—è¡¨æ¥è¡¨æ˜ç±»æœ‰å“ªäº›å±æ€§
	readonly id: number = 1; // åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æˆ–æ„é€ å‡½æ•°é‡Œé¢è¢«åˆå§‹åŒ–ï¼Œ 
	name: string;
	age: number;
	// gender: 'male' | 'female' = 'male' // <1> å±æ€§åˆå§‹åŒ– é»˜è®¤å€¼   åœ¨å±æ€§åˆ—è¡¨ä¸­
	pid ?: string  // å±æ€§å¯é€‰  string | undefined  å¯é€‰çš„å°±ä¸å¿…ä¸ºå¿…é¡»åˆå§‹åŒ–

	constructor(name: strinng, age: number, gender: 'male' | 'female' = 'male') {
		this.name = name;
		this.age= age;
		this.gender = gender;  // <2> åˆå§‹åŒ–é»˜è®¤å€¼åœ¨æ„é€ å‡½æ•°ä¸­ å±æ€§é»˜è®¤å€¼
	}
}

const obj = {};
obj.a = 'aaa';
// åœ¨Tsä¸­ä¸Šé¢çš„å†™æ³•ä¼šæŠ¥é”™ï¼› ä¸€ä¸ªå¯¹è±¡åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒçš„å±æ€§åº”è¯¥å°±è¦åˆ›å»ºä¸‹æ¥ï¼› åé¢çš„å±æ€§ä¸èƒ½éšæ„çš„å¢åŠ ï¼›
```


**å±æ€§çš„åˆå§‹åŒ–æ£€æŸ¥** æ²¡æœ‰èµ‹å€¼æ—¶ å€¼ä¸º `undefined`

`strictPropertyInitializtion: true`  æ›´åŠ ä¸¥æ ¼çš„å±æ€§åˆå§‹åŒ–æ£€æŸ¥ï¼› é™¤å¯é€‰å±æ€§å¤–å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–

å±æ€§çš„åˆå§‹åŒ–ä½ç½®ï¼š
1. æ„é€ å‡½æ•°ä¸­ï¼›
2. å±æ€§çš„é»˜è®¤å€¼

- å±æ€§å¯ä»¥ä¿®é¥°ä¸ºå¯é€‰çš„ï¼› å¯é€‰çš„å°±ä¸å¿…ä¸ºå¿…é¡»åˆå§‹åŒ– `?:`
- å±æ€§å¯ä»¥ä¿®é¥°ä¸ºåªè¯»çš„ `readonly`  `åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚ä¸ç„¶å®ä¾‹åŒ–æ—¶å€¼ä¸ºundefined, ä¸èƒ½å†æ¬¡èµ‹å€¼äº†`

- ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ | è®¿é—®é™å®šç¬¦
	- è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥æ§åˆ¶ç±»ä¸­çš„æŸä¸ªæˆå‘˜(æ–¹æ³•ã€å±æ€§ï¼‰çš„è®¿é—®æƒé™
	- public: é»˜è®¤çš„è®¿é—®ä¿®é¥°ç¬¦ï¼Œå…¬å¼€çš„ã€‚æ‰€æœ‰çš„ä»£ç éƒ½å¯ä»¥ä½¿ç”¨ï¼› ä¸å†™ä¿®é¥°ç¬¦é»˜è®¤éƒ½æ˜¯`public`
	- private: ç§æœ‰çš„ï¼Œ åªèƒ½åœ¨ç±»çš„é‡Œé¢ä½¿ç”¨
	- protected: å—ä¿æŠ¤çš„ï¼Œ `èƒ½åœ¨ç±»çš„é‡Œé¢å’Œå­ç±»ä¸­ä½¿ç”¨`

	```ts
	// æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥è¢«æ ‡è®°æˆ protectedã€‚ è¿™æ„å‘³ç€è¿™ä¸ªç±»ä¸èƒ½åœ¨åŒ…å«å®ƒçš„ç±»å¤–è¢«å®ä¾‹åŒ–ï¼Œä½†æ˜¯èƒ½è¢«ç»§æ‰¿ã€‚
	class Person {
		protected name: string;
		protected constructor(theName: string) { this.name = theName; }
	}

	// Employee èƒ½å¤Ÿç»§æ‰¿ Person
	class Employee extends Person {
		private department: string;

		constructor(name: string, department: string) {
			super(name); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
			this.department = department;
		}

		public getElevatorPitch() {
			return `Hello, my name is ${this.name} and I work in ${this.department}.`;
		}
	}

	let howard = new Employee("Howard", "Sales");
	let john = new Person("John"); // é”™è¯¯: 'Person' çš„æ„é€ å‡½æ•°æ˜¯è¢«ä¿æŠ¤çš„.
	 
	```

#### å±æ€§ç®€å†™

å¦‚æœæŸä¸ªå±æ€§ï¼Œ é€šè¿‡æ„é€ å‡½æ•°çš„å‚æ•°ä¼ é€’ï¼Œ å¹¶ä¸”ä¸åšä»»ä½•å¤„ç†çš„èµ‹å€¼ç»™è¯¥å±æ€§ã€‚ å¯ä»¥è¿›è¡Œç®€å†™ï¼› å‚æ•°å‰æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼›  ä¸éœ€è¦å†™å±æ€§åˆ—è¡¨å’Œå±æ€§èµ‹å€¼

```ts 
class User {
	// name: string  
	constructor(public name: string, public age: number) {
		// this.name = name;
		// this.age = age;  å±æ€§ç®€å†™ å‰é¢åŠ ä¿®é¥°ç¬¦ å¯çœå±æ€§åˆ—è¡¨å’Œå±æ€§èµ‹å€¼
	}
}
```



#### è®¿é—®å™¨  setters getters

ä½œç”¨ï¼š ç”¨äºæ§åˆ¶å±æ€§çš„è¯»å–å’Œèµ‹å€¼

```ts

class User {
	readonly id: number;
	gender : 'male' | 'female' = 'male';
	pid?: string;

	constructor(public name: string, private _age: number) {
		this.id = Math.random();
	}

	get age() {
		return this._age;
		// 
	}

	set age(val: number) {
		this._age = val;
	}

}

// æ­»å¾ªç¯ä¸ä¸€å®šå¯¼è‡´å†…å­˜æ³„æ¼  æ— é™é€’å½’ä¸€å®šå¯¼è‡´å†…å­˜æ³„æ¼
```
- åªå¸¦æœ‰ getä¸å¸¦æœ‰ setçš„å­˜å–å™¨è‡ªåŠ¨è¢«æ¨æ–­ä¸º `readonly`ã€‚

### å•æ ¹æ€§å’Œä¼ é€’æ€§

å•æ ¹æ€§ï¼š æ¯ä¸ªç±»æœ€å¤šåªèƒ½æ‹¥æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆç±»ä¸ç±»ä¹‹é—´åªèƒ½è¿›è¡Œå•ç»§æ‰¿ï¼Œ æƒ³è¦å®ç°å¤šç»§æ‰¿å¯ä»¥é‡‡ç”¨Mixinsæ–¹å¼

```ts
  // Person ç±»
  class Person {
      name: string;
      sayHello() {
          console.log('tag', `Helo ${ this.name }!`)
      }
  }

  // Student ç±»
  class Student {
      grade: number;

      study() {
          console.log('tag', ' I need Study!')
      }
  }

  // æŠŠç±»å½“åšæ¥å£ 
  class SmartObject implements Person, Student {

      // Person
      name: string = 'person';
      sayHello: () => void;
      // Activatable
      grade: number = 3;
      study: () => void;
  }



```


ä¼ é€’æ€§ï¼š å¦‚æœAæ˜¯Bçš„çˆ¶ç±»ï¼Œ å¹¶ä¸”Bæ˜¯Cçš„çˆ¶ç±»ï¼Œ åˆ™å¯ä»¥è®¤ä¸ºAä¹Ÿæ˜¯Cçš„çˆ¶ç±»ï¼›


# æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•

### æŠ½è±¡ç±»

æœ‰æ—¶ï¼Œ æŸä¸ªç±»åªè¡¨ç¤ºä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œ `ä¸»è¦ç”¨äºæå–å­ç±»å…±æœ‰çš„æˆå‘˜`ï¼Œ è€Œä¸èƒ½ç›´æ¥åˆ›å»ºå®ƒçš„å¯¹è±¡ï¼Œä¸æ˜¯å®ä¾‹åŒ–ï¼Œ åªæ˜¯ç”¨æ¥ç»§æ‰¿ã€‚ è¯¥ç±»å¯ä»¥ä½œä¸ºæŠ½è±¡ç±»ï¼›`chess.ts`

ç»™ç±»å‰é¢åŠ ä¸Š```abstruct```,è¡¨ç¤ºè¯¥ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œ ä¸å¯ä»¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»çš„å¯¹è±¡

### æŠ½è±¡æˆå‘˜

çˆ¶ç±»ä¸­ï¼Œ å¯èƒ½çŸ¥é“æœ‰äº›æˆå‘˜æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œ ä½†ä¸çŸ¥é“è¯¥æˆå‘˜çš„å€¼æˆ–å®ç°æ˜¯ä»€ä¹ˆï¼Œ å› æ­¤ï¼Œ éœ€è¦ä¸€ä¸ªå¼ºçº¦æŸï¼Œ è®©ç»§æ‰¿è¯¥ç±»çš„å­ç±»ï¼Œ å¿…é¡»è¦å®ç°è¯¥æˆå‘˜ã€‚

`æŠ½è±¡ç±»ä¸­`ï¼Œå¯ä»¥æœ‰æŠ½è±¡æˆå‘˜ï¼Œ è¿™äº›æŠ½è±¡æˆå‘˜å¿…é¡»åœ¨å­ç±»ä¸­å®ç°


1. ä½¿ç”¨ `abstract` ä¿®é¥°ç¬¦ä¿®é¥°çš„ç±»è¢«ç§°ä¸ºæŠ½è±¡ç±»ï¼›
	æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ï¼Œ åªèƒ½è¢«ç»§æ‰¿ï¼›

2. ä½¿ç”¨ `abstract` ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•æˆ–å±æ€§è¢«ç§°ä¸ºæŠ½è±¡æ–¹æ³•æˆ–æŠ½è±¡å±æ€§ï¼›
	æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰æ–¹æ³•ä½“ï¼Œ å­ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•å’ŒæŠ½è±¡å±æ€§ï¼›


3. æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šåŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œ ä½†åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»ï¼›

###  è®¾è®¡æ¨¡å¼ - æ¨¡æ¿æ¨¡å¼

æ¨¡æ¿æ¨¡å¼ï¼š æœ‰äº›æ–¹æ³•ï¼Œ æ‰€æœ‰çš„å­ç±»å®ç°çš„æµç¨‹å®Œå…¨ä¸€è‡´ï¼Œ åªæ˜¯æµç¨‹ä¸­æŸä¸ªæ­¥éª¤çš„å…·ä½“å®ç°ä¸ä¸€æ ·ï¼Œ å¯ä»¥å°†è¯¥æ–¹æ³•æå–åˆ°çˆ¶ç±»ï¼Œ åœ¨çˆ¶ç±»ä¸­å®Œæˆæ•´ä¸ªæµç¨‹çš„å®ç°ï¼Œ é‡åˆ°å®ç°ä¸ä¸€è‡´çš„æ–¹æ³•æ—¶ï¼Œ å°†è¯¥æ–¹æ³•åšå‡ºæŠ½è±¡æ–¹æ³•ï¼›

### é™æ€æˆå‘˜

é™æ€æˆå‘˜ï¼š é™æ€å±æ€§ã€é™æ€æ–¹æ³•; æŒ‡é™„ç€åœ¨ç±»ä¸Šçš„æˆå‘˜ï¼ˆå±äºæŸä¸ªæ„é€ å‡½æ•°çš„æˆå‘˜ï¼‰

ä½¿ç”¨static ä¿®é¥°çš„æˆå‘˜ï¼Œ æ˜¯é™æ€æˆå‘˜ï¼›

å®ä¾‹æˆå‘˜ï¼š å¯¹è±¡æˆå‘˜ã€å±äºæŸä¸ªç±»çš„å¯¹è±¡

é™æ€æˆå‘˜ï¼š éå®ä¾‹æˆå‘˜ï¼Œ å±äºæŸä¸ªç±»ï¼›

### é™æ€æ–¹æ³•ä¸­çš„this

å®ä¾‹æ–¹æ³•ä¸­thisæŒ‡å‘çš„æ˜¯ `å½“å‰å¯¹è±¡`

é™æ€æ–¹æ³•ä¸­thisæŒ‡å‘çš„æ˜¯ `å½“å‰ç±»`

### è®¾è®¡æ¨¡å¼ - å•ä¾‹æ¨¡å¼

å•ä¾‹æ¨¡å¼ï¼š `æŸäº›ç±»çš„å¯¹è±¡ï¼Œ åœ¨ç³»ç»Ÿä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª`ï¼Œ ä¸ºäº†é¿å…å¼€å‘è€…é€ æˆéšæ„åˆ›å»ºå¤šä¸ªç±»å¯¹è±¡çš„é”™è¯¯ï¼Œ å¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼è¿›è¡Œå¼ºçº¦æŸï¼›

```ts

class Board {
	 width: number = 500;
	 height: number = 700;

	 init() {
		 console.log('åˆå§‹åŒ–æ£‹ç›˜')
	 }

	// æ„é€ å‡½æ•°ç§æœ‰åŒ– åœ¨ç±»å¤–é¢ä¸å¯å®ä¾‹åŒ–
	 private constructor() {} 

	 private static _board?: Board;

	// é™æ€æ–¹æ³•
	 static createBoard(): Board {
		 if(this._board) {
			 return this._board;
		 }

		 this._board = new Board();
		 return this._board;
	 }


	 static readonly singleBoard: Board = new Board();
 }
```


# æ³›å‹

è®¾è®¡æ³›å‹çš„å…³é”®ç›®çš„æ˜¯åœ¨æˆå‘˜ä¹‹é—´æä¾›æœ‰æ„ä¹‰çš„çº¦æŸï¼Œè¿™äº›æˆå‘˜å¯ä»¥æ˜¯ï¼šç±»çš„å®ä¾‹æˆå‘˜ã€ç±»çš„æ–¹æ³•ã€å‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›å€¼ã€‚

æœ‰æ—¶ï¼Œä¹¦å†™æŸä¸ªå‡½æ•°æ—¶ï¼Œ ä¼šä¸¢å¤±ä¸€äº›ä¿¡æ¯ï¼ˆ`å¤šä¸ªä½ç½®çš„ç±»å‹åº”è¯¥ä¿æŒä¸€è‡´`æˆ–æœ‰å…³è”çš„ä¿¡æ¯ï¼‰

æ³›å‹ï¼š æ˜¯æŒ‡`é™„å±äº`ï¼ˆé™„åŠ ä¸€ä¸ªç±»å‹ï¼‰å‡½æ•°ã€ç±»ã€æ¥å£ã€ç±»å‹åˆ«åä¹‹ä¸Šçš„ç±»å‹ï¼›
> æ³¨æ„ï¼š æ— æ³•åˆ›å»ºæ³›å‹æšä¸¾å’Œæ³›å‹å‘½åç©ºé—´
> ä½¿ç”¨ <T> ä»£è¡¨ç±»å‹çš„å˜é‡, T åªæ˜¯çº¦å®šç”¨æ³•ï¼Œå¯ä»¥ä»»æ„æŒ‡å®šã€‚

å¸¸ç”¨çš„æ³›å‹å˜é‡ä»£è¡¨

- Tï¼ˆTypeï¼‰ï¼šè¡¨ç¤ºä¸€ä¸ª TypeScript ç±»å‹
- Kï¼ˆKeyï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„é”®ç±»å‹
- Vï¼ˆValueï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„å€¼ç±»å‹
- Eï¼ˆElementï¼‰ï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹


æ³›å‹ç›¸å½“äºä¸€ä¸ªç±»å‹çš„å˜é‡ï¼Œåœ¨å®šä¹‰æ—¶ï¼Œæ— æ³•é¢„å…ˆçŸ¥é“å…·ä½“çš„ç±»å‹ï¼Œå¯ä»¥ç”¨è¯¥å˜é‡æ¥æ›¿ä»£ï¼Œ`åªæœ‰è°ƒç”¨æ—¶ï¼Œ æ‰èƒ½ç¡®å®šä»–çš„ç±»å‹`ï¼› ä½¿ç”¨æ³›å‹ä¼šå¾—åˆ°æ›´åŠ ä¸€è‡´çš„ç±»å‹æ£€æŸ¥ï¼›

å¾ˆå¤šæ—¶å€™ï¼Œ TSä¼šæ™ºèƒ½çš„æ ¹æ®ä¼ é€’çš„å‚æ•°ï¼Œ æ¨å¯¼å‡ºæ³›å‹çš„å…·ä½“ç±»å‹ï¼›

å¦‚æœæ— æ³•å®Œæˆæ¨å¯¼ï¼Œ å¹¶ä¸”åˆæ²¡æœ‰ä¼ é€’å…·ä½“çš„ç±»å‹ï¼Œ é»˜è®¤ä¸ºç©ºå¯¹è±¡ç±»å‹ï¼›

> æ³›å‹å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼›`<T = number>`


### æ³›å‹æ¥å£

```ts
interface Person<T> {
	name: T
}


```
### åœ¨å‡½æ•°ä¸­ä½¿ç”¨æ³›å‹

åœ¨å‡½æ•°åä¹‹åå†™ä¸Š```<æ³›å‹åç§°>```

```ts
function take<T = number>(arr: T[], n: number): T[] {

}


take<number>([1,2,4,5,6], 3)
```

### åœ¨ç±»å‹åˆ«åã€æ¥å£ã€ç±»ä¸­ä½¿ç”¨æ³›å‹

ç›´æ¥åœ¨åç§°ä¹‹åå†™ä¸Š ```<æ³›å‹åç§°>```


### æ³›å‹ç±»

```ts

 interface GenericInterface<U> {
	 value: U,
	 getIdentity: () => U
 }

 class IdentityClass<T> implements GenericInterface<T> {
	 value: T;
	 constructor(value: T) {
		 this.value = value;
	 }

	 getIdentity(): T {
		 return this.value;
	 }
 }


 const myNumberClass = new IdentityClass<number>(789)



```

### æ³›å‹çº¦æŸ

æ³›å‹çº¦æŸç”¨äºé™åˆ¶æ³›å‹çš„å–å€¼ï¼›

> æ³›å‹æ— æ³•çŸ¥é“å…·ä½“çš„ç±»å‹ï¼Œæ‰€ä»¥æ— æ³•æ“ä½œå®ƒçš„å±æ€§å’Œæ–¹æ³•

å½“ä½ æ˜ç¡®çŸ¥é“æ³›å‹ä¸­æœ‰å“ªäº›å±æ€§æ–¹æ³•æ—¶ï¼Œå¯ä»¥é€šè¿‡ `extends` è¿›è¡Œæ³›å‹çº¦æŸ,å†™åœ¨å£°æ˜å‡½æ•°åçš„åé¢
```ts
interface hasNameProperty {
	name: string
}

/**
 * å°†æŸä¸ªå¯¹è±¡çš„nameå±æ€§çš„æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå¹¶å°†è¯¥å¯¹è±¡è¿”å›ï¼›
 */

 // æ³›å‹å°†æ¥å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼›
function nameToUppercase<T extends hasNameProperty>(obj: T): T {
	// obj.name  // æ²¡æœ‰çº¦æŸæ—¶   å°†æ¥ä¼ çš„å€¼ä¸æ˜¯å¯¹è±¡ï¼Œ æˆ–è€…å¯¹è±¡æ²¡æœ‰nameå±æ€§ å°±æŠ¥é”™

	obj.name = obj.name.split(' ').map(it => it[0].toUpperCase() + it.substr(1)).join(' ');
	return obj
}
//  è¿˜å¯ä»¥ä½¿ç”¨ , å·æ¥åˆ†éš”å¤šç§çº¦æŸç±»å‹ æ¯”å¦‚<T extends Length, Type2, Type3>


const o = {
	name: 'kevin he',
	age: 9,
	gender: 'meal'
};


const newO = nameToUppercase(o);

console.log(newO);
```
### æ³›å‹çº¦æŸ æ£€æŸ¥å¯¹è±¡ä¸Šçš„å±æ€§æ˜¯å¦å­˜åœ¨

### typeof
åœ¨ TypeScript ä¸­ï¼Œtypeof æ“ä½œç¬¦å¯ä»¥ç”¨æ¥è·å–ä¸€ä¸ª`å˜é‡å£°æ˜`æˆ–`å¯¹è±¡`çš„ç±»å‹ã€‚

```ts
interface Person {
  name: string;
  age: number;
}

const sem: Person = { name: 'semlinker', age: 30 };
type Sem= typeof sem; // -> Person

function toArray(x: number): Array<number> {
  return [x];
}

type Func = typeof toArray; // -> (x: number) => number[]
```
#### keyof æ“ä½œç¬¦
ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œ è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹

```ts

interface Person {
	name: string;
	age: number;
	location: string;
}

type k1 = keyof Person; // 'name' | 'age' | 'location'
type k2 = keyof Person[]; // number | 'length' | 'push' | 'concat' | ...  number ??????
type k3 = keyof { [x: string]: Person }; // string | number  ????

// é€šè¿‡ keyof æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æŒ‡å®šç±»å‹çš„æ‰€æœ‰é”®ï¼Œ

// æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨extends çº¦æŸï¼Œ é™åˆ¶è¾“å…¥çš„å±æ€§ååŒ…å«åœ¨keyof è¿”å›çš„è”åˆç±»å‹ä¸­

function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
	return obj[key]
}

```

### in
in ç”¨æ¥éå†æšä¸¾ç±»å‹ï¼š
```ts

type Keys = "a" | "b" | "c"

type Obj =  {
  [p in Keys]: any
} // -> { a: any, b: any, c: any }

```
### å¤šæ³›å‹

```ts
	// å°†ä¸¤ä¸ªæ•°ç»„ [1,2,3] + ['a', 'b', 'c'] = [1, 'a', 2, 'b', 3, 'c']
	function mixinArray(T, K)(arr1: T[], arr2: K[]): (T | K)[] {
		if(arr1.length === arr2.length) {
			throw new Error("ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ä¸ç­‰ï¼")
		}

		const result: (T | K)[] = [];
		for(let i, len = arr1.length; i < len; i ++) {
			result.push(arr1[i]);
			result.push(arr2[i])
		}

		return result;
	}

```


Symbol  ç¬¦å·

è¿­ä»£å™¨ï¼š è¡¨ç¤ºè¯¥æ•°æ®æ˜¯å¯ä»¥è¢« for - of  å¾ªç¯çš„ ï¼›åˆ¶é€ è¿­ä»£å™¨ å¿…é¡»ä½¿ç”¨ Symbol iterator


js é”™è¯¯å‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼›   js æ˜¯è§£é‡Šæ€§è¯­è¨€ï¼› è¿è¡Œæ—¶æ‰çŸ¥é“ï¼› 

Tsæ˜¯ä¸€å¥—ç±»å‹ç³»ç»Ÿï¼Œ é™æ€çš„ï¼Œä¸ç”¨è¿è¡Œèµ·æ¥  å†™ä»£ç æ—¶å°±å¯ä»¥è¿›è¡Œæç¤ºï¼›(ç¼–è¯‘é˜¶æ®µ å°±è¿›è¡Œæé†’)


# æ·±å…¥ç†è§£ç±»å’Œæ¥å£

### é¢å‘å¯¹è±¡æ¦‚è¿°

#### ä¸ºä»€ä¹ˆè¦è®²é¢å‘å¯¹è±¡ï¼Ÿ
1. TS ä¸ºå‰ç«¯é¢å‘å¯¹è±¡å¼€å‘å¸¦æ¥äº†å¥‘æœº

jsè¯­è¨€æ²¡æœ‰ç±»å‹æ£€æŸ¥ï¼Œ å¦‚æœä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼å¼€å‘ï¼Œ ä¼šäº§ç”Ÿå¤§é‡çš„æ¥å£ï¼Œ è€Œå¤§é‡çš„æ¥å£ä¼šå¯¼è‡´è°ƒç”¨å¤æ‚åº¦å‰§å¢ï¼Œ è¿™ç§å¤æ‚åº¦å¿…é¡»é€šè¿‡ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥æ¥é¿å…é”™è¯¯ï¼Œ å°½ç®¡å¯ä»¥ä½¿ç”¨æ³¨é‡Šæˆ–æ–‡æ¡£æˆ–è®°å¿†åŠ›ï¼Œ ä½†ä»–ä»¬æ²¡æœ‰å¼ºçº¦æŸã€‚

TSå¸¦æ¥äº†å®Œæ•´çš„ç±»å‹ç³»ç»Ÿï¼Œ å› æ­¤å¼€å‘å¤æ‚ç¨‹åºæ—¶ï¼Œ æ— è®ºæ¥å£æ•°é‡æœ‰å¤šå°‘ï¼Œ éƒ½å¯ä»¥è·å¾—å®Œæ•´çš„ç±»å‹æ£€æŸ¥ï¼Œ å¹¶ä¸”è¿™ç§æ£€æŸ¥æ˜¯å…·æœ‰å¼ºçº¦æŸåŠ›çš„ï¼›

2. é¢å‘å¯¹è±¡ä¸­æœ‰è®¸å¤šéå¸¸æˆç†Ÿçš„æ¨¡å¼ï¼Œ èƒ½å¤„ç†å¤æ‚é—®é¢˜ï¼›

## ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡

é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šOrientedï¼ˆåŸºäºï¼‰ Objectï¼ˆäº‹ç‰©ï¼‰Programing(ç¼–ç¨‹ï¼‰ã€‚ ç®€ç§°OOPã€‚å®ƒæå‡ºä¸€åˆ‡ä»¥å¯¹è±¡å¯¹åˆ‡å…¥ç‚¹æ€è€ƒé—®é¢˜ï¼›


é¢å‘è¿‡ç¨‹:
ä¼˜ç‚¹ï¼šæ€§èƒ½æ¯”é¢å‘å¯¹è±¡å¥½ï¼Œå› ä¸ºç±»è°ƒç”¨æ—¶éœ€è¦å®ä¾‹åŒ–ï¼Œå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ¶ˆè€—èµ„æºã€‚
ç¼ºç‚¹ï¼šä¸æ˜“ç»´æŠ¤ã€ä¸æ˜“å¤ç”¨ã€ä¸æ˜“æ‰©å±•.

é¢å‘å¯¹è±¡:
ä¼˜ç‚¹ï¼šæ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ï¼Œç”±äºé¢å‘å¯¹è±¡æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€æ€§çš„ç‰¹æ€§ï¼Œå¯ä»¥è®¾è®¡å‡ºä½è€¦åˆçš„ç³»ç»Ÿï¼Œä½¿ç³»ç»Ÿ æ›´åŠ çµæ´»ã€æ›´åŠ æ˜“äºç»´æŠ¤ .
ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”é¢å‘è¿‡ç¨‹å·®

### é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾äº”å¤§åŸåˆ™ï¼š

- ä¸‰å¤§ç‰¹å¾ï¼š
	- å°è£…ï¼šå°è£…å°±æ˜¯æ¨¡å—åŒ–ï¼ŒæŠŠä¸åŒçš„åŠŸèƒ½ï¼Œå°è£…åœ¨ä¸åŒçš„æ¨¡å—é‡Œã€‚éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–æä¾›å…¬å…±è®¿é—®æ–¹å¼ï¼Œå°†å˜åŒ–éš”ç¦»ï¼Œä¾¿äºä½¿ç”¨ï¼Œæé«˜å¤ç”¨æ€§å’Œå®‰å…¨æ€§ã€‚
	- ç»§æ‰¿ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œæé«˜ä»£ç å¤ç”¨æ€§ï¼›ç»§æ‰¿æ˜¯å¤šæ€çš„å‰æã€‚
	- å¤šæ€ï¼šå¤šæ€ï¼Œç›¸å½“äºå¯¹äºåŒä¸€ä¸ªæ¥å£ç±»å‹ï¼Œç”±å¤šç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œæ‰€è¡ç”Ÿå‡ºæ¥çš„ã€‚

- äº”å¤§åŸåˆ™ï¼š
	- å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRP)
	- å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCP)
	- é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSP)
	- ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIP)
	- æ¥å£åˆ†ç¦»åŸåˆ™ï¼ˆISP)


### ç±»çš„ç»§æ‰¿

- é‡å†™ï¼ˆoverride): å­ç±»ä¸­è¦†ç›–çˆ¶ç±»çš„æˆå‘˜ï¼›
	- ç±»é‡å†™æ—¶ï¼šå­ç±»ä¸èƒ½ä¿®æ”¹çˆ¶ç±»çš„æˆå‘˜çš„ç±»å‹ï¼›
	- æ— è®ºæ˜¯å±æ€§è¿˜æ˜¯æ–¹æ³•ï¼Œå­ç±»éƒ½å¯ä»¥å¯¹çˆ¶ç±»çš„ç›¸åº”æˆå‘˜è¿›è¡Œé‡å†™ï¼Œ ä½†é‡å†™æ—¶ï¼Œ éœ€ä¿è¯ç±»å‹çš„åŒ¹é…ï¼›

 ### ç±»å‹åŒ¹é…

é¸­å­è¾¨å‹æ³•

å­ç±»çš„å¯¹è±¡å§‹ç»ˆå¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ç±»å‹ï¼›ï¼ˆè¿™ç§ç°è±¡å«åš**é‡Œæ°æ›¿æ¢åŸåˆ™**ï¼‰

```ts
class Tank {

}

class PlayTank extends Tank {

}

// å­ç±»çš„å¯¹è±¡å§‹ç»ˆå¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ç±»å‹ï¼› å­ç±»çš„æˆå‘˜ä¸€å®šå¤§äºç­‰äºçˆ¶ç±»çš„æˆå‘˜ï¼›
let p: Tank = new PlayTank();

// P åªå¯ä»¥ä½¿ç”¨ å’Œçˆ¶ç±»å…±æœ‰çš„å±æ€§ï¼› å³Tanké‡Œé¢çš„æˆå‘˜ï¼›


```



# å†è°ˆæ¥å£

åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»å»å®ç°ã€‚
TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚

- å¯¹è±¡çš„å½¢çŠ¶

```ts
interface Person {
  name: string;
  age: number;
}

let Semlinker: Person = {
  name: "Semlinker",
  age: 33,
};

// å¯é€‰åªè¯»
interface Person {
  readonly name: string;
  age?: number;
}
```

æ¥å£ç”¨æ¥çº¦æŸç±»(ç±»å®ç°æ¥å£)ã€å¯¹è±¡ã€å‡½æ•°ï¼Œ æ˜¯ä¸€ä¸ªç±»å‹å¥‘çº¦ï¼›


```ts
interface Person {
	name: string;
	age: number;
	location: string;
}

class Man implements Person {
    name: string;
    age: number;
    constructor(name: string, age: number, public location: string) {
        this.name = name;
        this.age = age;
    }
}



```

> æœ‰ä¸€ä¸ªé©¬æˆå›¢ï¼Œ é©¬æˆå›¢æœ‰å¾ˆå¤šåŠ¨ç‰©ï¼Œ åŒ…æ‹¬ï¼š ç‹®å­ã€è€è™ã€çŒ´å­ã€ç‹—ï¼Œ è¿™äº›åŠ¨ç‰©éƒ½å…·æœ‰å…±åŒçš„ç‰¹å¾ï¼š åå­—ã€å¹´é¾„ã€ç§ç±»åç§°ï¼Œ è¿˜åŒ…æ‹¬ä¸€ä¸ªå…±åŒçš„æ–¹æ³•ï¼š sayHello, å®ƒä»¬å„è‡ªæœ‰å„è‡ªçš„æŠ€èƒ½ï¼š æ‰“æ‹›å‘¼ï¼Œ æŠ€èƒ½æ˜¯å¯ä»¥è®­ç»ƒæ”¹å˜çš„ï¼›

> é©¬æˆå›¢ä¸­æœ‰ä»¥ä¸‹å¸¸è§çš„æŠ€èƒ½

> - ç«åœˆè¡¨æ¼”ï¼š å•ç«åœˆã€åŒç«åœˆ
> - å¹³è¡¡è¡¨æ¼”ï¼š ç‹¬æœ¨æ¡¥ã€èµ°é’¢ä¸
> - æ™ºæ…§è¡¨æ¼”ï¼š ç®—æœ¯é¢˜ã€è·³èˆ


é¢å‘å¯¹è±¡é¢†åŸŸä¸­çš„æ¥å£çš„è¯­ä¹‰ï¼š è¡¨è¾¾äº†æŸä¸ªç±»æ˜¯å¦æ‹¥æœ‰æŸç§èƒ½åŠ›

æŸä¸ªç±»å…·æœ‰æŸç§èƒ½åŠ›ï¼Œ å…¶å®ï¼Œ å°±æ˜¯å®ç°äº†æŸç§æ¥å£

### ç±»å‹ä¿æŠ¤  åˆ¤æ–­å±æ€§æˆ–å€¼å­˜åœ¨å  å†æ‰§è¡ŒæŸäº›æ“ä½œï¼ˆä¸¥è°¨æ€§åˆ¤æ–­ï¼‰


### åœ¨JSä¸­thisçš„æŒ‡å‘çš„å‡ ç§æƒ…å†µ

æ˜ç¡®ï¼šå¤§éƒ¨åˆ†æ—¶å€™ï¼Œ thisçš„æŒ‡å‘å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼

- å¦‚æœç›´æ¥è°ƒç”¨å‡½æ•°ï¼ˆå…¨å±€è°ƒç”¨ï¼‰ï¼Œ thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨windownå¯¹è±¡ï¼Œ nodeç¯å¢ƒglobalå¯¹è±¡ï¼‰æˆ–`undefined`(å¯ç”¨ä¸¥æ ¼æ¨¡å¼)ï¼› ``` use()```
- å¦‚æœä½¿ç”¨`å¯¹è±¡.æ–¹æ³•`è°ƒç”¨ï¼Œ thisæŒ‡å‘å¯¹è±¡æœ¬èº«ï¼›```use.xxx()```
- å¦‚æœæ˜¯domäº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œ thisæŒ‡å‘äº‹ä»¶å¤„ç†å¯¹è±¡  (æŒ‰é’®ç‚¹å‡»ã€é¼ æ ‡ç§»å…¥)

ç‰¹æ®Šæƒ…å†µï¼š
- ç®­å¤´å‡½æ•°ï¼Œ thisåœ¨å‡½æ•°å£°æ˜æ—¶ç¡®å®šæŒ‡å‘ï¼Œ æŒ‡å‘å‡½æ•°ä½ç½®çš„this;
- ä½¿ç”¨bindã€applyã€callæ‰‹åŠ¨ç»‘å®šthiså¯¹è±¡ï¼›


### TSä¸­çš„this

é…ç½® `noImplicitThis`ä¸ºtrue, è¡¨ç¤ºä¸å…è®¸thiséšå¼çš„æŒ‡å‘anyï¼›  implicit:æš—ç¤ºã€å«è“„çš„


åœ¨TSä¸­ï¼Œ å…è®¸åœ¨ä¹¦å†™å‡½æ•°æ—¶ï¼Œ æ‰‹åŠ¨çš„æŒ‡å‘thisæŒ‡å‘ï¼› **åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šthisçš„æŒ‡å‘ï¼Œè¯¥å‚æ•°åªç”¨äºçº¦æŸthisï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„å‚æ•°ï¼Œ ä¹Ÿä¸ä¼šå‡ºç°åœ¨ç¼–è¯‘æ¥å£ä¸­**

```ts
interface IUser {
	name: string,
	age: number,
	sayHello(this: IUser): void, // ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šthisçš„æŒ‡å‘ï¼Œä¸æ˜¯çœŸå®çš„å‚æ•°
}


const u: IUser = {
	name: 'sss',
	age: 9,
	sayHello(){
		console.log(this);
		
	}
}


class User {
	constructor (
		public name: string,
		public age: number,
	) {

	}

	sayHello(this: User) {

	}
}

const u = new User('hzg', 18);
const say = u.sayHello;

say(); // è¿™æ ·æ‰§è¡Œæ—¶ä¼šæŠ¥é”™ã€‚ ä¸æ‰‹åŠ¨æŒ‡å®šthisçš„æŒ‡å‘æ—¶ï¼Œ thisæŒ‡å‘undefined(class ä¸­é»˜è®¤æ—¶ä¸¥æ ¼æ¨¡å¼)

```


# è£…é¥°å™¨

## æ¦‚è¿°

> é¢å‘å¯¹è±¡çš„æ¦‚å¿µï¼ˆjavaï¼š æ³¨è§£ï¼Œ c#ï¼š ç‰¹å¾ï¼‰ï¼Œ decorator
> angularå¤§é‡ä½¿ç”¨ï¼Œ reactä¸­ä¹Ÿä¼šç”¨åˆ°
> ç›®å‰JSæ”¯æŒè£…é¥°å™¨ï¼Œ `ç›®å‰å¤„äºå»ºè®®å¾é›†çš„ç¬¬äºŒé˜¶æ®µï¼›` è¿˜æ²¡æˆä¸ºæ ‡å‡†ï¼›

### è§£å†³é—®é¢˜

è£…é¥°å™¨ï¼Œèƒ½å¤Ÿå¸¦æ¥é¢å¤–çš„ä¿¡æ¯é‡ï¼Œ å¯ä»¥è¾¾åˆ°åˆ†ç¦»å…³æ³¨ç‚¹çš„ç›®çš„ï¼›

- å…³æ³¨ç‚¹é—®é¢˜ï¼šåœ¨å®šä¹‰æŸä¸ªä¸œè¥¿æ—¶ï¼Œåº”è¯¥æœ€æ¸…æ¥šè¯¥ä¸œè¥¿çš„æƒ…å†µï¼›  ä¿¡æ¯ä¹¦å†™çš„ä½ç½®é—®é¢˜ï¼›
- é‡å¤ä»£ç çš„é—®é¢˜

ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜äº§ç”Ÿçš„æ ¹æºï¼š æŸäº›ä¿¡æ¯ï¼Œåœ¨å®šä¹‰æ—¶èƒ½å¤Ÿé™„åŠ çš„ä¿¡æ¯é‡æœ‰é™

è£…é¥°å™¨çš„ä½œç”¨ï¼š ä¸ºæŸäº›`ç±»ã€å‚æ•°ã€å±æ€§ã€æ–¹æ³•æä¾›å…ƒæ•°æ®ä¿¡æ¯`ï¼ˆmetadata)

> å…ƒæ•°æ®ï¼š ç”¨æ¥æè¿°æ•°æ®çš„æ•°æ®

### è£…é¥°å™¨çš„æœ¬è´¨

åœ¨jsä¸­ï¼Œ è£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ï¼ˆè£…é¥°å™¨ä¼šå‚ä¸è¿è¡Œçš„ï¼‰

è£…é¥°å™¨å¯ä»¥ä¿®é¥°ï¼š
- ç±»
- æˆå‘˜ï¼ˆå±æ€§ + æ–¹æ³•ï¼‰
- å‚æ•°

 **è£…é¥°å™¨æ˜¯å¯ä»¥å¤ç”¨çš„**

### ç±»è£…é¥°å™¨ 

ç±»è£…é¥°å™¨çš„æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œ è¡¨ç¤ºç±»æœ¬èº«ï¼ˆæ„é€ å‡½æ•°æœ¬èº«ï¼‰

ä½¿ç”¨è£…é¥°å™¨``` @å¾—åˆ°ä¸€ä¸ªå‡½æ•° ```

åœ¨TSä¸­å¦‚ä½•çº¦æŸä¸€ä¸ªå˜é‡ä¸ºç±»

- Function
- ```new (å‚æ•°) => object ```

åœ¨TSä¸­è¦ä½¿ç”¨è£…é¥°å™¨ï¼Œ éœ€è¦å¼€å¯ `experimentalDecorators: true` experimental: å®éªŒæ€§çš„ 

è£…é¥°å™¨å‡½æ•°çš„è¿è¡Œæ—¶é—´ç‚¹ï¼š åœ¨ç±»å®šä¹‰åç›´æ¥è¿è¡Œ;

ç±»è£…é¥°å™¨å¯ä»¥å…·æœ‰çš„è¿”å›å€¼ï¼š
- void: ä»…è¿è¡Œå‡½æ•°
- è¿”å›ä¸€ä¸ªæ–°çš„ç±»ï¼š ä¼šå°†æ–°çš„ç±»æ›¿æ¢æ‰è£…é¥°ç›®æ ‡

```ts
function test(target: new (...args: any[]) => object) {

}

@test
class A {
	constructor(public prop: string) {

	}
}


// å‡½æ•°çš„æ‰§è¡Œ è¿”å›ä¸€ä¸ªå‡½æ•°
function test1(str: string) {
	return function (target: new(...args: any[]) => object) {
		
	}
}

@test1('è¿™æ˜¯ä¸€ä¸ªç±»')
class B {

}
```
**å¤šä¸ªè£…é¥°å™¨æ‰§è¡Œé¡ºåºï¼š ä»ä¸‹å¾€ä¸Šå€’ç€æ‰§è¡Œ**


### æˆå‘˜è£…é¥°å™¨

- å±æ€§
å±æ€§è£…é¥°å™¨ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°
1. å¦‚æœæ˜¯é™æ€å±æ€§ï¼Œ åˆ™ä¸ºç±»æœ¬èº«ï¼› å¦‚æœæ˜¯å®ä¾‹å±æ€§ï¼Œåˆ™ä¸ºç±»çš„åŸå‹ï¼›
2. å›ºå®šä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ è¡¨ç¤ºå±æ€§åï¼›

- æ–¹æ³•
æ–¹æ³•è£…é¥°å™¨ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦ä¸‰ä¸ªå‚æ•°
1. å¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼Œ åˆ™ä¸ºç±»æœ¬èº«ï¼› å¦‚æœæ˜¯å®ä¾‹æ–¹æ³•ï¼Œåˆ™ä¸ºç±»çš„åŸå‹ï¼›
2. å›ºå®šä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ è¡¨ç¤ºæ–¹æ³•åï¼›
3. å±æ€§æè¿°å¯¹è±¡ï¼šå±æ€§æè¿°ç¬¦ï¼› Object.definePropertyçš„ç¬¬ä¸‰ä¸ªå‚æ•°

> æ³¨æ„â€ƒ å¦‚æœä»£ç è¾“å‡ºç›®æ ‡ç‰ˆæœ¬å°äºES5ï¼Œå±æ€§æè¿°ç¬¦å°†ä¼šæ˜¯ `undefined`ã€‚
```ts
// descriptor å±æ€§æè¿°å¯¹è±¡çš„é»˜è®¤å€¼
	{
		writable: true,
		enumerable: false,
		configurable: true,
		value: æ–¹æ³•æœ¬èº«
	}
```

> reflect-metadata åº“  è¯¥åº“çš„ä½œç”¨ï¼š ä¿å­˜å…ƒæ•°æ®
> class-validatorï¼ˆç”¨æ¥éªŒè¯çš„ï¼‰ å’Œ class-transformer åº“

### è£…é¥°å™¨è¡¥å……

- å‚æ•°è£…é¥°å™¨

ä¾èµ–æ³¨å…¥ã€ä¾èµ–å€’ç½®

è¦æ±‚å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°
1. å¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼Œ åˆ™ä¸ºç±»æœ¬èº«ï¼› å¦‚æœæ˜¯å®ä¾‹æ–¹æ³•ï¼Œåˆ™ä¸ºç±»çš„åŸå‹ï¼›
2. æ–¹æ³•åç§°
3. åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•

```ts

class MyMath {
	sum(a: number, @test b: number) {
		return a + b;
	}
}

function test( target: any, method: string, index: number) {

}

```

- å…³äºTsè‡ªåŠ¨æ³¨å…¥çš„å…ƒæ•°æ®

å¦‚æœå®‰è£…äº† `reflect-metadata` å¹¶ä¸”å¯¼å…¥äº†è¯¥åº“ï¼Œ å¹¶ä¸”åœ¨æŸä¸ªæˆå‘˜ä¸Šæ·»åŠ äº†å…ƒæ•°æ®ï¼Œ å¹¶ä¸”å¯ç”¨äº† `emitDecoratorMetadata` 

åˆ™Ts

- AOP

å±äºé¢å‘å¯¹è±¡å¼€å‘ï¼Œ å°†ä¸€äº›åœ¨ä¸šåŠ¡ä¸­å…±åŒå‡ºç°çš„åŠŸèƒ½æ¨¡å—ï¼Œ æ¨ªå‘åˆ‡åˆ†ï¼Œ å·²è¾¾åˆ°åˆ†ç¦»å…³æ³¨ç‚¹çš„ç›®çš„ï¼› å…³æ³¨ç‚¹è¶Šé›†ä¸­è¶Šå¥½ï¼›



# å£°æ˜æ–‡ä»¶

> æ¦‚è¿°ã€ç¼–å†™ã€å‘å¸ƒ

### æ¦‚è¿°

1. ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶ï¼Ÿ
ä»¥ `.d.ts`ç»“å°¾çš„æ–‡ä»¶

2. å£°æ˜æ–‡ä»¶æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

ts è¯» js ä»£ç æ—¶ï¼Œ å¾—ä¸åˆ°ç±»å‹å£°æ˜ --> `ä¸ºjsä»£ç æä¾›ç±»å‹å£°æ˜ï¼›`

3. å£°æ˜æ–‡ä»¶çš„ä½ç½®

- æ”¾ç½®åˆ°tsconfig.jsoné…ç½®ä¸­åŒ…å«çš„ç›®å½•ä¸­ï¼›  `includes` åŒ…å«çš„æ–‡ä»¶ä¸­
- æ”¾ç½®åˆ°node_modules/@typesæ–‡ä»¶å¤¹ä¸­
- æ‰‹åŠ¨é…ç½®ï¼ˆæƒé‡æœ€é«˜ï¼‰ ```typeRoots: ['./types']``` ä¼šè¦†ç›–ä¸Šé¢ä¸¤ç§é…ç½®ï¼›
- ä¸jsä»£ç æ‰€åœ¨ç›®å½•ç›¸åŒï¼Œå¹¶ä¸”æ–‡ä»¶åä¹Ÿç›¸åŒçš„æ–‡ä»¶ã€‚ï¼ˆæœ€å¥½ï¼‰ç”¨tsä»£ç ä¹¦å†™çš„å·¥ç¨‹å‘å¸ƒä¹‹åçš„æ ¼å¼ã€‚


### ç¼–å†™å£°æ˜æ–‡ä»¶

> æ‰‹åŠ¨ç¼–å†™  è‡ªåŠ¨ç”Ÿæˆ

è‡ªåŠ¨ç”Ÿæˆï¼š é¡¹ç›®å·¥ç¨‹æ˜¯ç”¨tså¼€å‘çš„ï¼Œå‘å¸ƒï¼ˆç¼–è¯‘ï¼‰ä¹‹åæ˜¯jsæ–‡ä»¶ï¼Œ å‘å¸ƒæ˜¯jsæ–‡ä»¶ï¼Œ å¦‚æœå‘å¸ƒçš„æ–‡ä»¶ï¼Œ éœ€è¦å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼› å¯ä»¥ä½¿ç”¨å£°æ˜æ–‡ä»¶ï¼Œ æ¥æè¿°å‘å¸ƒç»“æœä¸­çš„ç±»å‹ï¼›  é…ç½®```tsconfig.json```ä¸­çš„`declaration: true` å³å¯

æ‰‹åŠ¨ç¼–å†™ï¼š
1. å¯¹å·²æœ‰åº“ï¼Œ å®ƒæ˜¯ä½¿ç”¨jsä¹¦å†™è€Œæˆï¼Œ å¹¶ä¸”æ›´æ”¹è¯¥åº“çš„ä»£ç ä¸ºtsæˆæœ¬è¾ƒé«˜ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–å†™å£°æ˜æ–‡ä»¶

2. å¯¹ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œ å®ƒä»¬ä½¿ç”¨jsä¹¦å†™è€Œæˆï¼Œå¹¶ä¸”è¿™äº›ç¬¬ä¸‰æ–¹åº“æ²¡æœ‰æä¾›å£°æ˜æ–‡ä»¶ï¼Œ å¯ä»¥æ‰‹åŠ¨ç¼–å†™å£°æ˜æ–‡ä»¶

##### å…¨å±€å£°æ˜

å£°æ˜ä¸€äº›å…¨å±€çš„å¯¹è±¡ã€å±æ€§ã€å˜é‡

å£°æ˜æ–‡ä»¶ä¸å‚ä¸è¿è¡Œï¼› åªæ˜¯å£°æ˜ç±»å‹ï¼›

```ts
declare // å£°æ˜

```

> namespace: è¡¨ç¤ºå‘½åç©ºé—´ï¼Œ å¯ä»¥å°†å…¶è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ å‘½åç©ºé—´ä¸­çš„å†…å®¹ï¼Œ å¿…é¡»é€šè¿‡```å‘½åç©ºé—´.æˆå‘˜å```è®¿é—®


#### æ¨¡å—å£°æ˜


```ts

declare module 'lodash' {

}

// @types/lodash     yarn add -D @types/lodash

```

#### ä¸‰æ–œçº¿æŒ‡ä»¤

åœ¨ä¸€ä¸ªå£°æ˜æ–‡ä»¶ä¸­ï¼Œ åŒ…å«å¦ä¸€ä¸ªå£°æ˜æ–‡ä»¶

ä¸‰æ ¹æ–œçº¿ åŠ ç©ºæ ¼
`/// <reference path="../../index.d.ts">`


## å‘å¸ƒ

1. å½“å‰å·¥ç¨‹æ˜¯ä½¿ç”¨tså¼€å‘

ç¼–è¯‘å®Œæˆåï¼Œ å°†ç¼–è¯‘ç»“æœæ‰€åœ¨æ–‡ä»¶å¤¹ç›´æ¥å‘å¸ƒåˆ°npmä¸Šå³å¯

2. ä¸ºå…¶ä»–ç¬¬ä¸‰æ–¹åº“å¼€å‘çš„å£°æ˜æ–‡ä»¶

å‘å¸ƒåˆ°@types/** ä¸­







# tslinté…ç½®

```ts
{
	"rules": {
		"no-trailing-whitespace": false, // å°¾éƒ¨ç©ºæ ¼æ£€æŸ¥
	}
}
```